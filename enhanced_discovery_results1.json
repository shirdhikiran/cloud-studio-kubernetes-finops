{
  "discovery_data": {
    "discovery_timestamp": "2025-07-11T12:17:46.758605+00:00",
    "discovery_scope": {
      "subscription_id": "5785f902-e9bc-4b4c-8e09-2732a083cdd4",
      "resource_group": "vnet-aks-rg",
      "cost_analysis_days": 30,
      "metrics_hours": 24,
      "cost_isolation_method": "resource_group_scope",
      "metrics_collection_method": "raw_log_analytics_azure_monitor"
    },
    "subscription_cost_context": {
      "subscription_breakdown": {
        "total_subscription_cost": 0.0,
        "by_resource_group": {},
        "resource_group_ranking": [],
        "error": "NONE"
      },
      "target_resource_group_ranking": {
        "target_resource_group": "vnet-aks-rg",
        "position_in_subscription": null,
        "total_resource_groups": 0,
        "top_3_resource_groups": []
      },
      "cost_context": {
        "analysis_period_days": 30,
        "total_subscription_cost": 0.0,
        "target_rg_percentage": 0.0,
        "error": "subscription_breakdown_failed"
      }
    },
    "clusters": [
      {
        "basic_info": {
          "id": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/Microsoft.ContainerService/managedClusters/cloudstoreyaks",
          "name": "cloudstoreyaks",
          "resource_group": "vnet-aks-rg",
          "location": "centralindia",
          "kubernetes_version": "1.30.12",
          "provisioning_state": "Succeeded",
          "fqdn": "cloudstoreyaks-dns-5fo2hier.hcp.centralindia.azmk8s.io",
          "node_resource_group": "MC_vnet-aks-rg_cloudstoreyaks_centralindia",
          "dns_prefix": "cloudstoreyaks-dns",
          "enable_rbac": true,
          "network_profile": {
            "network_plugin": "azure",
            "service_cidr": "10.0.0.0/16",
            "dns_service_ip": "10.0.0.10",
            "pod_cidr": "10.244.0.0/16",
            "load_balancer_sku": "Standard"
          },
          "addon_profiles": {
            "azureKeyvaultSecretsProvider": {
              "enabled": true,
              "config": {
                "enableSecretRotation": "false",
                "rotationPollInterval": "2m"
              }
            },
            "azurepolicy": {
              "enabled": true,
              "config": null
            },
            "omsAgent": {
              "enabled": true,
              "config": {
                "logAnalyticsWorkspaceResourceID": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourceGroups/INCDCXS00NRSG01/providers/Microsoft.OperationalInsights/workspaces/INCDCXS00NLAW01",
                "useAADAuth": "true"
              }
            }
          },
          "sku": {
            "name": "Base",
            "tier": "Free"
          },
          "tags": {
            "Name": "cloudstoreyaks"
          },
          "created_time": null,
          "last_modified": null
        },
        "discovery_status": "failed",
        "node_pools": [],
        "namespaces": [],
        "workloads": [],
        "services": [],
        "storage": [],
        "ingresses": [],
        "network_resources": [],
        "azure_resources": [],
        "cost_data": {
          "total": 0.0,
          "compute": 0.0,
          "storage": 0.0,
          "network": 0.0,
          "monitoring": 0.0,
          "other": 0.0,
          "currency": "USD",
          "status": "error",
          "error": "name 'meter_name' is not defined",
          "cluster_context": {
            "cluster_name": "cloudstoreyaks",
            "resource_group": "vnet-aks-rg",
            "isolation_validated": false
          },
          "resource_group_validation": {
            "target_resource_group": "vnet-aks-rg",
            "other_resource_groups_found": [],
            "isolation_validated": false
          }
        },
        "utilization_summary": {
          "error": "raw_metrics_unavailable",
          "metrics_availability": false
        },
        "raw_metrics": {
          "cluster_name": "cloudstoreyaks",
          "error": "Raw metrics collection failed: 'MonitorClient' object has no attribute '_generate_utilization_summary'",
          "collection_metadata": {
            "metrics_collected": [],
            "metrics_failed": [
              "all"
            ],
            "data_sources": [],
            "total_data_points": 0
          },
          "utilization_summary": {
            "error": "Raw metrics collection failed: 'MonitorClient' object has no attribute '_generate_utilization_summary'",
            "metrics_availability": false
          }
        },
        "resource_counts": {
          "total_nodes": 0,
          "total_pods": 0,
          "total_services": 0,
          "total_storage_volumes": 0
        },
        "cost_validation": {
          "isolation_method": "resource_group_scope",
          "cross_contamination_check": true
        },
        "detailed_costs": {
          "resource_group": "vnet-aks-rg",
          "resources": {
            "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.dashboard/grafana/cloudstoreyaksgrafana": {
              "resource_id": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.dashboard/grafana/cloudstoreyaksgrafana",
              "resource_type": "microsoft.dashboard/grafana",
              "service_name": "Azure Grafana Service",
              "total_cost": 47.407360000000004,
              "total_usage": 1456.0,
              "daily_costs": {
                "2025-06-11": 1.56288,
                "2025-06-12": 1.56288,
                "2025-06-13": 1.56288,
                "2025-06-14": 1.56288,
                "2025-06-15": 1.56288,
                "2025-06-16": 1.56288,
                "2025-06-17": 1.56288,
                "2025-06-18": 1.56288,
                "2025-06-19": 1.56288,
                "2025-06-20": 1.56288,
                "2025-06-21": 1.56288,
                "2025-06-22": 1.56288,
                "2025-06-23": 1.56288,
                "2025-06-24": 1.56288,
                "2025-06-25": 1.56288,
                "2025-06-26": 1.56288,
                "2025-06-27": 1.56288,
                "2025-06-28": 1.56288,
                "2025-06-29": 1.56288,
                "2025-06-30": 1.56288,
                "2025-07-01": 1.56288,
                "2025-07-02": 1.56288,
                "2025-07-03": 1.56288,
                "2025-07-04": 1.56288,
                "2025-07-05": 1.56288,
                "2025-07-06": 1.56288,
                "2025-07-07": 1.56288,
                "2025-07-08": 1.56288,
                "2025-07-09": 1.56288,
                "2025-07-10": 1.56288,
                "2025-07-11": 0.52096
              },
              "meter_breakdown": {
                "Azure Grafana Service:Azure Grafana Service": {
                  "cost": 47.407360000000004,
                  "usage": 1456.0,
                  "service": "Azure Grafana Service",
                  "unit": "unknown"
                }
              },
              "cost_category": "monitoring"
            },
            "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.insights/metricalerts/cpu usage percentage - cloudstoreyaks": {
              "resource_id": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.insights/metricalerts/cpu usage percentage - cloudstoreyaks",
              "resource_type": "microsoft.insights/metricalerts",
              "service_name": "Azure Monitor",
              "total_cost": 0.06406989247311817,
              "total_usage": 0.942204301075268,
              "daily_costs": {
                "2025-06-11": 0.00219354838709677,
                "2025-06-12": 0.00219354838709677,
                "2025-06-13": 0.00219354838709677,
                "2025-06-14": 0.00191935483870968,
                "2025-06-15": 0.00164516129032258,
                "2025-06-16": 0.00182795698924731,
                "2025-06-17": 0.00219354838709677,
                "2025-06-18": 0.00219354838709677,
                "2025-06-19": 0.00219354838709677,
                "2025-06-20": 0.00219354838709677,
                "2025-06-21": 0.00219354838709677,
                "2025-06-22": 0.00219354838709677,
                "2025-06-23": 0.00210215053763441,
                "2025-06-24": 0.00219354838709677,
                "2025-06-25": 0.00219354838709677,
                "2025-06-26": 0.00219354838709677,
                "2025-06-27": 0.00219354838709677,
                "2025-06-28": 0.00191935483870968,
                "2025-06-29": 0.00164516129032258,
                "2025-06-30": 0.00173655913978495,
                "2025-07-01": 0.00219354838709677,
                "2025-07-02": 0.00219354838709677,
                "2025-07-03": 0.00219354838709677,
                "2025-07-04": 0.00219354838709677,
                "2025-07-05": 0.00219354838709677,
                "2025-07-06": 0.00219354838709677,
                "2025-07-07": 0.00219354838709677,
                "2025-07-08": 0.00219354838709677,
                "2025-07-09": 0.00219354838709677,
                "2025-07-10": 0.00219354838709677,
                "2025-07-11": 0.00082258064516129
              },
              "meter_breakdown": {
                "Azure Monitor:Azure Monitor": {
                  "cost": 0.06406989247311817,
                  "usage": 0.942204301075268,
                  "service": "Azure Monitor",
                  "unit": "unknown"
                }
              },
              "cost_category": "monitoring"
            },
            "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.insights/metricalerts/memory working set percentage - cloudstoreyaks": {
              "resource_id": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.insights/metricalerts/memory working set percentage - cloudstoreyaks",
              "resource_type": "microsoft.insights/metricalerts",
              "service_name": "Azure Monitor",
              "total_cost": 0.06406989247311817,
              "total_usage": 0.942204301075268,
              "daily_costs": {
                "2025-06-11": 0.00219354838709677,
                "2025-06-12": 0.00219354838709677,
                "2025-06-13": 0.00219354838709677,
                "2025-06-14": 0.00191935483870968,
                "2025-06-15": 0.00164516129032258,
                "2025-06-16": 0.00182795698924731,
                "2025-06-17": 0.00219354838709677,
                "2025-06-18": 0.00219354838709677,
                "2025-06-19": 0.00219354838709677,
                "2025-06-20": 0.00219354838709677,
                "2025-06-21": 0.00219354838709677,
                "2025-06-22": 0.00219354838709677,
                "2025-06-23": 0.00210215053763441,
                "2025-06-24": 0.00219354838709677,
                "2025-06-25": 0.00219354838709677,
                "2025-06-26": 0.00219354838709677,
                "2025-06-27": 0.00219354838709677,
                "2025-06-28": 0.00191935483870968,
                "2025-06-29": 0.00164516129032258,
                "2025-06-30": 0.00173655913978495,
                "2025-07-01": 0.00219354838709677,
                "2025-07-02": 0.00219354838709677,
                "2025-07-03": 0.00219354838709677,
                "2025-07-04": 0.00219354838709677,
                "2025-07-05": 0.00219354838709677,
                "2025-07-06": 0.00219354838709677,
                "2025-07-07": 0.00219354838709677,
                "2025-07-08": 0.00219354838709677,
                "2025-07-09": 0.00219354838709677,
                "2025-07-10": 0.00219354838709677,
                "2025-07-11": 0.00082258064516129
              },
              "meter_breakdown": {
                "Azure Monitor:Azure Monitor": {
                  "cost": 0.06406989247311817,
                  "usage": 0.942204301075268,
                  "service": "Azure Monitor",
                  "unit": "unknown"
                }
              },
              "cost_category": "monitoring"
            },
            "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.monitor/accounts/cloudstoreyaksprom": {
              "resource_id": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.monitor/accounts/cloudstoreyaksprom",
              "resource_type": "microsoft.monitor/accounts",
              "service_name": "Azure Monitor",
              "total_cost": 17.331709531392,
              "total_usage": 187.164702,
              "daily_costs": {
                "2025-06-11": 0.276733120212,
                "2025-06-12": 0.27672188668,
                "2025-06-13": 0.276815719132,
                "2025-06-14": 0.276931697144,
                "2025-06-15": 0.265204414084,
                "2025-06-16": 0.26528371412,
                "2025-06-17": 0.466673159032,
                "2025-06-18": 0.652262537248,
                "2025-06-19": 0.6528629374,
                "2025-06-20": 0.653022184424,
                "2025-06-21": 0.652840973128,
                "2025-06-22": 0.6503036367,
                "2025-06-23": 0.651413891808,
                "2025-06-24": 0.651283431156,
                "2025-06-25": 0.649061323484,
                "2025-06-26": 0.644119445244,
                "2025-06-27": 0.649455834868,
                "2025-06-28": 0.649212279744,
                "2025-06-29": 0.649355917436,
                "2025-06-30": 0.649335821124,
                "2025-07-01": 0.649162172856,
                "2025-07-02": 0.648629231288,
                "2025-07-03": 0.648961571768,
                "2025-07-04": 0.649493495104,
                "2025-07-05": 0.649309546468,
                "2025-07-06": 0.655396321124,
                "2025-07-07": 0.65629355066,
                "2025-07-08": 0.656333692012,
                "2025-07-09": 0.656383180984,
                "2025-07-10": 0.656442574972,
                "2025-07-11": 0.246410269988
              },
              "meter_breakdown": {
                "Azure Monitor:Azure Monitor": {
                  "cost": 17.331709531392,
                  "usage": 187.164702,
                  "service": "Azure Monitor",
                  "unit": "unknown"
                }
              },
              "cost_category": "monitoring"
            },
            "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.containerregistry/registries/cloudstoreyacr1": {
              "resource_id": "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.containerregistry/registries/cloudstoreyacr1",
              "resource_type": "microsoft.containerregistry/registries",
              "service_name": "Container Registry",
              "total_cost": 0.000718567,
              "total_usage": 0.006359,
              "daily_costs": {
                "2025-06-17": 0.000718567
              },
              "meter_breakdown": {
                "Container Registry:Container Registry": {
                  "cost": 0.000718567,
                  "usage": 0.006359,
                  "service": "Container Registry",
                  "unit": "unknown"
                }
              },
              "cost_category": "compute"
            }
          },
          "summary": {
            "total_resources": 5,
            "total_cost": 64.86792788333827,
            "avg_cost_per_resource": 12.973585576667654,
            "top_cost_resources": [
              [
                "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.dashboard/grafana/cloudstoreyaksgrafana",
                47.407360000000004
              ],
              [
                "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.monitor/accounts/cloudstoreyaksprom",
                17.331709531392
              ],
              [
                "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.insights/metricalerts/cpu usage percentage - cloudstoreyaks",
                0.06406989247311817
              ],
              [
                "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.insights/metricalerts/memory working set percentage - cloudstoreyaks",
                0.06406989247311817
              ],
              [
                "/subscriptions/5785f902-e9bc-4b4c-8e09-2732a083cdd4/resourcegroups/vnet-aks-rg/providers/microsoft.containerregistry/registries/cloudstoreyacr1",
                0.000718567
              ]
            ]
          },
          "currency": "USD"
        },
        "error": "'DiscoveryClient' object has no attribute '_get_enhanced_node_details'"
      }
    ],
    "totals": {
      "total_clusters": 1,
      "total_nodes": 0,
      "total_pods": 0,
      "total_namespaces": 0,
      "total_services": 0,
      "total_storage_volumes": 0,
      "aggregated_costs": {
        "total_cost": 0.0,
        "compute_cost": 0.0,
        "storage_cost": 0.0,
        "network_cost": 0.0,
        "monitoring_cost": 0.0,
        "other_cost": 0.0,
        "currency": "USD",
        "cost_validation": {
          "resource_group_isolated": true,
          "cross_contamination_detected": false
        }
      },
      "aggregated_utilization": {
        "cluster_cpu_average": 0.0,
        "cluster_memory_average": 0.0,
        "cluster_storage_average": 0.0,
        "cluster_network_throughput_mbps": 0.0,
        "resource_pressure_indicators": {
          "cpu_pressure": false,
          "memory_pressure": false,
          "storage_pressure": false,
          "network_pressure": false
        }
      }
    }
  }
}